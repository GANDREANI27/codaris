/* =========================================================
   Codaris — One-page (Light/Dark, Tiles XL, Animated Timeline)
   Palette alignée au portfolio : violet, cyan, corail
   Typo : Sora + Inter
========================================================= */

/* ---------- Thème clair par défaut ---------- */
:root{
  --bg:#f7f8fb;
  --surface:#ffffff;
  --text:#111827;
  --muted:#596072;

  --violet:#7c3aed;
  --cyan:#06b6d4;
  --coral:#ff7a59;

  --ring:rgba(6,182,212,.25);
  --card:rgba(0,0,0,.04);

  --radius:16px;
  --shadow:0 12px 30px rgba(0,0,0,.15);

  --font-head:"Sora", system-ui, -apple-system, Segoe UI, Inter, Roboto, "Helvetica Neue", Arial, sans-serif;
  --font-body:"Inter", system-ui, -apple-system, Segoe UI, Inter, Roboto, "Helvetica Neue", Arial, sans-serif;

  --tile-border: rgba(0,0,0,.06);
  --tile-bg: rgba(0,0,0,.02);
  --tile-bg-hover: rgba(0,0,0,.04);
  --stroke-soft: rgba(0,0,0,.10);
  --stroke-softer: rgba(0,0,0,.08);
  --stroke-strong: rgba(0,0,0,.18);

  --tile-highlight: rgba(6,182,212,.22);
  --placeholder-grad-a: rgba(124,58,237,.20);
  --placeholder-grad-b: rgba(6,182,212,.18);

  --hero-vignette-top: rgba(0,0,0,.08);
  --hero-vignette-bottom: rgba(0,0,0,.10);

  --focus-outline: 0 0 0 6px var(--ring);

  --tile-size: 54px; /* taille XL desktop */
}

/* ---------- Thème sombre ---------- */
html[data-theme="dark"]{
  --bg:#0b0d10;
  --surface:#12161b;
  --text:#e8eef6;
  --muted:#9aa4b3;

  --ring:rgba(124,58,237,.35);
  --card:rgba(255,255,255,.04);
  --shadow:0 12px 30px rgba(0,0,0,.25);

  --tile-border: rgba(255,255,255,.06);
  --tile-bg: rgba(255,255,255,.02);
  --tile-bg-hover: rgba(255,255,255,.04);
  --stroke-soft: rgba(255,255,255,.12);
  --stroke-softer: rgba(255,255,255,.10);
  --stroke-strong: rgba(255,255,255,.18);

  --tile-highlight: rgba(6,182,212,.22);
  --placeholder-grad-a: rgba(124,58,237,.28);
  --placeholder-grad-b: rgba(6,182,212,.24);

  --hero-vignette-top: rgba(0,0,0,.18);
  --hero-vignette-bottom: rgba(0,0,0,.22);
}

/* ---------- Reset de base ---------- */
*{ box-sizing:border-box; }
html{ scroll-behavior:smooth; }
html, body{ min-height:100%; }
body{
  margin:0; background:var(--bg); color:var(--text);
  font-family:var(--font-body); line-height:1.6; overflow-x:hidden;
  -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
  transition: background .4s ease, color .4s ease;
}

::selection{ background: rgba(124,58,237,.28); color:#fff; }
:focus-visible{ outline:3px solid var(--cyan); outline-offset:3px; }

/* ---------- Layout ---------- */
.container{ width:min(1200px,92%); margin-inline:auto; }
.section{ padding:70px 0; }
.section__head{ margin-bottom:20px; }
.section__title{ font-family:var(--font-head); font-size:clamp(28px,4.4vw,40px); margin:0 0 6px; }
.section__kicker{ color:var(--muted); margin:0; }

/* Grids */
.grid.two{ display:grid; gap:20px; grid-template-columns:1fr 1fr; }
.grid.four{ display:grid; gap:20px; grid-template-columns:repeat(4,1fr); }
@media (max-width:1000px){ .grid.four{ grid-template-columns:repeat(2,1fr); } }
@media (max-width:620px){ .grid.four, .grid.two{ grid-template-columns:1fr; } }

/* ---------- Header / Nav ---------- */
.site-header{ position:sticky; top:0; z-index:50; backdrop-filter:blur(10px); -webkit-backdrop-filter:blur(10px); }
.nav{ display:flex; align-items:center; justify-content:space-between; padding:14px 0; }
.logo{ display:flex; align-items:center; gap:10px; color:var(--text); text-decoration:none; font-weight:700; }
.logo__img{ width:34px; height:34px; object-fit:contain; }
.logo__word{ font-family:var(--font-head); font-weight:700; letter-spacing:.2px; text-transform:lowercase; }

.nav__links{ list-style:none; display:flex; gap:20px; margin:0; padding:0; }
.nav__link{ color:var(--text); text-decoration:none; font-weight:600; position:relative; padding:6px 0; }
.nav__link::after{
  content:""; position:absolute; left:0; right:100%; bottom:-2px; height:2px;
  background:linear-gradient(90deg,var(--violet),var(--cyan)); transition:right .25s ease;
}
.nav__link:hover::after{ right:0; }
.nav__actions{ display:flex; gap:10px; }

/* ---------- Buttons ---------- */
.btn{
  position:relative;
  border:0; border-radius:999px; padding:12px 18px; cursor:pointer;
  font-weight:700; color:#fff; background:linear-gradient(135deg,var(--violet),var(--cyan));
  box-shadow:var(--shadow);
  transition:transform .18s cubic-bezier(.2,.7,.2,1), box-shadow .25s, opacity .2s, background .25s;
}
.btn.big{ padding:14px 22px; font-size:1.05rem; }
.btn:hover{ transform:translateY(-3px); box-shadow:0 18px 46px rgba(0,0,0,.28); }
.btn:active{ transform:translateY(-1px); }
.btn.ghost{
  background:transparent; color:var(--text);
  border:1px solid var(--stroke-softer);
}
.btn.primary::after{
  content:""; position:absolute; inset:-2px; border-radius:inherit;
  background:conic-gradient(from 0deg,var(--violet),var(--cyan),var(--coral),var(--violet));
  filter:blur(12px); opacity:.30; z-index:-1; transition:opacity .2s;
}
.btn.primary:hover::after{ opacity:.38; }

/* ---------- Hero (carrelage XL interactif) ---------- */
.hero{
  position:relative; isolation:isolate;
  display:grid; place-items:center; min-height:76vh; margin-top:18px;
  border-radius:20px; overflow:hidden;
  background:linear-gradient(180deg, rgba(0,0,0,.03), rgba(0,0,0,0));
}
.hero__content{ text-align:center; position:relative; z-index:1; }
.hero__title{ font-family:var(--font-head); font-size:clamp(34px,5vw,60px); line-height:1.08; margin:0 0 16px; }
.hero__ctas{ display:flex; gap:12px; justify-content:center; flex-wrap:wrap; }

/* Vignette douce pour lisibilité du texte */
.hero::before{
  content:""; position:absolute; inset:0; z-index:0; pointer-events:none;
  background:
    radial-gradient(1200px 600px at 50% 10%, var(--hero-vignette-top), transparent 55%),
    radial-gradient(900px 500px at 50% 120%, var(--hero-vignette-bottom), transparent 60%);
}

/* Carrelage */
.tiles{
  --size: var(--tile-size);
  position:absolute; inset:0;
  display:grid; grid-template-columns:repeat(auto-fill, var(--size));
  grid-auto-rows: var(--size);
  opacity:.95; filter: blur(4px) saturate(1.1); transform: translateZ(0);
}
@media (max-width:1100px){ .tiles{ --size: 48px; } }
@media (max-width:820px){  .tiles{ --size: 42px; } }
@media (max-width:560px){  .tiles{ --size: 36px; } }

.tile{
  border:1px solid var(--tile-border);
  position:relative; background:var(--tile-bg);
  transition: background-color .2s, border-color .2s;
}
.tile::after{
  content:""; position:absolute; inset:0;
  background: radial-gradient(220px circle at var(--mx,50%) var(--my,50%), var(--tile-highlight), transparent 60%);
  opacity:0; transition:opacity .2s;
}
.tile:hover{ border-color: var(--stroke-strong); background: var(--tile-bg-hover); }
.tile:hover::after{ opacity:1; }

/* ---------- Cards génériques ---------- */
.card{
  background:var(--surface); border:1px solid var(--stroke-softer);
  border-radius:16px; padding:18px; box-shadow:var(--shadow);
  transition:transform .22s cubic-bezier(.2,.7,.2,1), box-shadow .22s, border-color .22s, background .22s;
}
.card:hover{
  transform:translateY(-6px) scale(1.015);
  box-shadow:0 18px 46px rgba(0,0,0,.22);
  border-color:var(--stroke-strong);
}

/* ---------- Marquee (carousel continu) ---------- */
.marquee{ overflow:hidden; border-radius:16px; border:1px solid var(--stroke-softer); background:var(--surface); }
.track{ display:flex; gap:16px; padding:16px; will-change:transform; }
.slide{
  flex:0 0 340px; display:flex; flex-direction:column; gap:8px; text-decoration:none; color:var(--text);
  background:var(--card); border:1px solid var(--stroke-softer); border-radius:14px; overflow:hidden;
  transition:transform .2s, border-color .2s, background-color .2s;
}
.slide:hover{ transform:translateY(-4px); border-color:var(--stroke-strong); background:rgba(0,0,0,.03); }
.slide__img{ aspect-ratio:16/9; display:grid; place-items:center; font-weight:800; letter-spacing:.2px; }
.placeholder{
  background:
    radial-gradient(60% 60% at 20% 20%, var(--placeholder-grad-a), transparent 60%),
    radial-gradient(60% 60% at 80% 30%, var(--placeholder-grad-b), transparent 60%),
    linear-gradient(180deg, rgba(0,0,0,.05), rgba(0,0,0,0));
}

/* ---------- Timeline horizontale (centrée + progression) ---------- */
.timeline-h{
  position:relative; padding:28px 24px 34px;
  border:1px solid var(--stroke-softer); background:var(--surface);
  border-radius:16px; overflow:hidden;
}
.tl-bar{
  position:absolute; left:24px; right:24px; top:50%; height:4px; transform:translateY(-50%);
  background:linear-gradient(90deg, rgba(124,58,237,.28), rgba(6,182,212,.28));
  border-radius:4px;
}
.tl-progress{
  position:absolute; left:24px; top:calc(50% - 2px); height:4px; width:calc(100% - 48px);
  transform-origin:0 50%; transform:scaleX(0); border-radius:4px;
  background:linear-gradient(90deg, var(--violet), var(--cyan));
  box-shadow:0 0 24px rgba(124,58,237,.35);
  transition:transform .6s ease-out;
}
.tl-steps{
  list-style:none; margin:0; padding:0;
  display:grid; grid-template-columns:repeat(5, minmax(120px,1fr));
  align-items:center; gap:22px;
}
@media (max-width:860px){
  .tl-steps{ grid-template-columns:repeat(5, 1fr); gap:18px; }
}
.step{
  position:relative; display:flex; flex-direction:column; align-items:center; gap:10px;
  text-align:center; z-index:1;
}
.step .dot{
  width:40px; height:40px; display:grid; place-items:center; font-weight:800;
  border-radius:999px; color:#fff;
  background:linear-gradient(135deg, var(--violet), var(--cyan));
  box-shadow:0 12px 30px rgba(0,0,0,.18);
  transform:translateY(0); transition:transform .25s cubic-bezier(.2,.7,.2,1);
}
.step span:last-child{
  font-weight:700; padding:8px 12px; border-radius:12px;
  background:var(--card); border:1px solid var(--stroke-softer);
}
.step:hover .dot{ transform:translateY(-4px); }

/* ---------- Contact ---------- */
.contact{ align-items:start; }
.contact__panel{
  background:var(--card); padding:18px; border-radius:16px; border:1px solid var(--stroke-softer);
}
.contact__list{ list-style:none; padding:0; margin:12px 0 8px; display:grid; gap:6px; }
.contact__list a{ color:var(--text); text-decoration:none; font-weight:700; }
.form{ display:grid; gap:12px; }
.field{ display:grid; gap:6px; }
.field input, .field textarea{
  width:100%; padding:12px 14px; border-radius:12px; border:1px solid var(--stroke-soft);
  background:rgba(0,0,0,.02); color:var(--text); outline:none;
  transition:box-shadow .2s, border-color .2s, background .2s;
}
html[data-theme="dark"] .field input, html[data-theme="dark"] .field textarea{
  background:rgba(255,255,255,.02);
}
.field input:focus, .field textarea:focus{ border-color:var(--violet); box-shadow: var(--focus-outline); }
.small{ font-size:.92rem; }
.muted{ color:var(--muted); }

/* ---------- Footer ---------- */
.site-footer{ padding:46px 0 80px; color:var(--muted); text-align:center; }

/* ---------- Reveal on scroll ---------- */
.reveal{
  opacity:0; transform:translateY(18px) scale(.98); filter:saturate(.9);
  transition:opacity .6s cubic-bezier(.2,.7,.2,1),
             transform .6s cubic-bezier(.2,.7,.2,1),
             filter .6s;
}
.reveal.in{ opacity:1; transform:none; filter:saturate(1); }

@media (prefers-reduced-motion:reduce){
  .reveal, .reveal.in{ opacity:1; transform:none; filter:none; }
  .btn, .card, .slide, .step .dot{ transition:none !important; }
}

/* ---------- Divers ---------- */
a{ color:inherit; text-decoration:none; }
a.btn{ text-decoration:none; }
